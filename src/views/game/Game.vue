<template>	<section class="comindex">		<div class="banner">			<mt-swipe :auto="4000">				<mt-swipe-item v-for="swipItem in bannerModels">					<img :src="swipItem.img" alt="" />				</mt-swipe-item>			</mt-swipe>		</div>		<div class="game-colmun">			<div class="common-title">				<h2>					<strong>每周游戏</strong>					<span v-show="weekGame.menuModel"><router-link :to="{name:'gamelist'}">查看更多</router-link></span>				</h2>			</div>			<div class="game-list" ref="weekgame">				<ul>					<li v-for="(weekItem,index) in weekGame.content">						<router-link to="/page/game/list">							<div class="photo">								<img :src="weekItem.img" alt="" />							</div>							<h3 v-text="weekItem.name"></h3>						</router-link>					</li>				</ul>			</div>		</div>		<div class="game-colmun">			<div class="common-title">				<h2>					<strong>人气作品</strong>					<span v-show="hotGame.menuModel"><router-link :to="{name:'gamelist'}">查看更多</router-link></span>				</h2>			</div>			<div class="game-list" ref="hotgame">				<ul>					<li v-for="(hotItem,index) in hotGame.content">						<router-link to="">							<div class="photo">								<img :src="hotItem.img" alt="" />							</div>							<h3 v-text="hotItem.name"></h3>						</router-link>					</li>				</ul>			</div>		</div>		<!--<div class="game-recommend">			<div class="common-title">				<h2>					<strong>手游下载</strong>					<span><router-link :to="{name:'gamelist'}">查看更多</router-link></span>				</h2>			</div>			<div class="game-recommend-list" ref="recommend">				<div class="items">					<ul>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/11.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>弹珠大作站；僵尸围城</h3>										<p>发射魔法弹珠，击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/05.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>初音未来灵魂歌舞初音未来灵魂歌舞初音未来灵魂歌舞</h3>										<p>发射魔法弹珠，击倒敌人击倒敌人击倒敌人击倒敌人击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/04.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>哆啦A梦遥控赛车</h3>										<p>发射魔法弹珠，击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>					</ul>				</div>				<div class="items">					<ul>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/02.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>弹珠大作站；僵尸围城</h3>										<p>发射魔法弹珠，击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/10.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>初音未来灵魂歌舞初音未来灵魂歌舞初音未来灵魂歌舞</h3>										<p>发射魔法弹珠，击倒敌人击倒敌人击倒敌人击倒敌人击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>						<li>							<router-link to="">								<div class="photo">									<img src="../../assets/game/06.jpg" alt="" />								</div>								<div class="text">									<div class="text-list">										<h3>哆啦A梦遥控赛车</h3>										<p>发射魔法弹珠，击倒敌人</p>									</div>									<div class="text-tag">										<div class="tags">奖励<span>5</span>金币</div>									</div>								</div>							</router-link>						</li>					</ul>				</div>			</div>		</div>-->		<div class="footer-ad">			<div class="photo">				<mt-swipe :auto="6000" :show-indicators="false">					<mt-swipe-item v-for="footerswip in footerAd">						<img :src="footerswip.img" alt="" />					</mt-swipe-item>				</mt-swipe>			</div>		</div>		<div class="game-menu" v-show="menuType">			<ul>				<li v-for="(item,index) in gameMenu" :class="[menuActive===index?'active':'']" v-text="item"></li>			</ul>		</div>		<tab-bar></tab-bar>		<div @click="handleBall">			<fox-ball ref="ball"></fox-ball>		</div>		<red-lopes :bgType="lopesbgType" @lopes-show="lopesShow"></red-lopes>	</section></template><script>	import TabBar from '@/components/tabbar/TabBar'	import FoxBall from '@/components/FoxBall'	import RedLopes from '@/components/redlopes/RedLopes'	import { Swipe, SwipeItem,MessageBox,Indicator,Toast } from 'mint-ui';	export default {		name: "Game",		data(){			return{				lopesbgType:false,				gameMenu:['每周新游','人气作品','官方推荐'],				menuActive:0,				menuType:false,				bannerModels:[],    //banner图				weekGame:{},  //每周游戏				hotGame:{},    //人气作品				footerAd:[]			}		},		methods:{			getData(){				Indicator.open({					text: '加载中...',					spinnerType: 'fading-circle'				});				this.$http('https://47867514.ngrok.io/games/wall').then(res=>{					Indicator.close();					let data=res.data;					let columnModels=data.columnModels;					this.bannerModels=data.bannerModels;					this.footerAd=data.footer;					columnModels.map((item,index)=>{						if(item.name==='热门游戏'){							this.weekGame=item						}						if(item.name==='人气游戏'){							this.hotGame=item;						}					});					console.log('热门游戏====>',this.weekGame)					console.log('人气游戏====>',this.hotGame)					console.log('res',res)				}).catch(err=>{					Indicator.close();					Toast(err.msg);				})			},			lopesShow(){				this.lopesbgType=false;			},			handleBall(){				this.$refs.ball.ball();			},			_scrollTop(){				if(this.$refs.weekgame){					var weekGame=this.$refs.weekgame.getBoundingClientRect().top-100,						hotGame=this.$refs.hotgame.getBoundingClientRect().top-150,						recommendGame=this.$refs.recommend.getBoundingClientRect().top-160;				}				this.menuType=document.documentElement.scrollTop >= weekGame;				if(document.documentElement.scrollTop >= weekGame){					this.menuActive=0;				}				if(document.documentElement.scrollTop >= hotGame){					this.menuActive=1;				}				if(document.documentElement.scrollTop >= recommendGame){					this.menuActive=2;				}			}		},		computed:{		},		components:{			TabBar,			FoxBall,			RedLopes		},		mounted(){			this.getData();			this.lopesbgType=false;			window.onscroll=()=>{				//this._scrollTop();			}		}	}</script><style rel="stylesheet" lang="scss">	@import "./scss/game";</style>